# æ—¥å¿—é‡å®šå‘æœºåˆ¶å›¾è§£

## ğŸ¯ æ ¸å¿ƒå‘½ä»¤è§£æ

```bash
nohup bash -c "$TEMP_SCRIPT && rm -f $TEMP_SCRIPT" > "${LOG_FILE}" 2>&1 &
```

è®©æˆ‘ä»¬é€ä¸ªéƒ¨åˆ†åˆ†è§£ï¼š

---

## ğŸ“¦ ç¬¬ä¸€å±‚ï¼šnohup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  nohup (no hang up)                                     â”‚
â”‚  ä½œç”¨ï¼šå¿½ç•¥ SIGHUP ä¿¡å·                                  â”‚
â”‚  æ•ˆæœï¼šç»ˆç«¯å…³é—­åè¿›ç¨‹ç»§ç»­è¿è¡Œ                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚  ä¸å—ç»ˆç«¯å…³é—­å½±å“
           â†“
     bash å­è¿›ç¨‹ç»§ç»­è¿è¡Œ
```

**æµ‹è¯•ï¼š**
```bash
# ä¸ç”¨ nohup
python train.py &
# å…³é—­ç»ˆç«¯ â†’ è®­ç»ƒç»ˆæ­¢ âŒ

# ä½¿ç”¨ nohup
nohup python train.py &
# å…³é—­ç»ˆç«¯ â†’ è®­ç»ƒç»§ç»­ âœ…
```

---

## ğŸ”§ ç¬¬äºŒå±‚ï¼šbash -c "..."

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bash -c "command1 && command2 && command3"             â”‚
â”‚  ä½œç”¨ï¼šåœ¨æ–°çš„ bash è¿›ç¨‹ä¸­æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤                  â”‚
â”‚  æ•ˆæœï¼šæ‰€æœ‰å‘½ä»¤ä¸²è¡Œæ‰§è¡Œï¼ˆå‰ä¸€ä¸ªæˆåŠŸæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚  å¯åŠ¨æ–° shell
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ä¸´æ—¶è„šæœ¬         â”‚
    â”‚  - ä»»åŠ¡ 1        â”‚
    â”‚  - ä»»åŠ¡ 2        â”‚
    â”‚  - ä»»åŠ¡ 3        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç­‰ä»·äºï¼š**
```bash
# æ–¹å¼1ï¼šä½¿ç”¨ bash -c
bash -c "echo task1 && echo task2 && echo task3"

# æ–¹å¼2ï¼šåˆ›å»ºä¸´æ—¶è„šæœ¬
echo -e "echo task1\necho task2\necho task3" > temp.sh
bash temp.sh
```

---

## ğŸ’§ ç¬¬ä¸‰å±‚ï¼šè¾“å‡ºé‡å®šå‘ > file 2>&1

è¿™æ˜¯æ—¥å¿—æ§åˆ¶çš„**æ ¸å¿ƒæœºåˆ¶**ï¼

### æ–‡ä»¶æè¿°ç¬¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸‰ä¸ªæ ‡å‡†æµï¼š                 â”‚
â”‚                                          â”‚
â”‚  0 = stdin  (æ ‡å‡†è¾“å…¥)                   â”‚
â”‚  1 = stdout (æ ‡å‡†è¾“å‡º)  â† print() è¾“å‡º   â”‚
â”‚  2 = stderr (æ ‡å‡†é”™è¯¯)  â† é”™è¯¯ä¿¡æ¯       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é‡å®šå‘è¿‡ç¨‹

#### æ­¥éª¤ 1: `> "${LOG_FILE}"`

```
æ‰§è¡Œå‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¿›ç¨‹      â”‚
â”‚  stdout(1)  â”‚â”€â”€â”€â”€â”€â†’  ç»ˆç«¯å±å¹•
â”‚  stderr(2)  â”‚â”€â”€â”€â”€â”€â†’  ç»ˆç«¯å±å¹•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‰§è¡Œ > file åï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¿›ç¨‹      â”‚
â”‚  stdout(1)  â”‚â”€â”€â”€â”€â”€â†’  lr_compare.log  âœ…
â”‚  stderr(2)  â”‚â”€â”€â”€â”€â”€â†’  ç»ˆç«¯å±å¹•        âŒ (é”™è¯¯ä»æ˜¾ç¤ºåœ¨ç»ˆç«¯)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ­¥éª¤ 2: `2>&1`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¿›ç¨‹      â”‚
â”‚  stdout(1)  â”‚â”€â”€â”€â”€â”€â†’  lr_compare.log
â”‚             â”‚
â”‚  stderr(2)  â”‚â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â”‚  2>&1 çš„æ„æ€ï¼š
                â”‚  å°† stderr(2) é‡å®šå‘åˆ° stdout(1) å½“å‰æŒ‡å‘çš„ä½ç½®
                â”‚
                â””â”€â”€â”€â†’  lr_compare.log  âœ… (é”™è¯¯ä¹Ÿè¿›å…¥æ—¥å¿—)
```

**æœ€ç»ˆç»“æœï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰€æœ‰è¾“å‡ºéƒ½è¿›å…¥ lr_compare.log           â”‚
â”‚  âœ… print() è¾“å‡º                         â”‚
â”‚  âœ… Ultralytics è®­ç»ƒæ—¥å¿—                 â”‚
â”‚  âœ… è¿›åº¦æ¡                               â”‚
â”‚  âœ… é”™è¯¯ä¿¡æ¯                             â”‚
â”‚  âœ… å¼‚å¸¸å †æ ˆ                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä»€ä¹ˆé¡ºåºé‡è¦ï¼Ÿ

```bash
# âŒ é”™è¯¯é¡ºåº
nohup command 2>&1 > file.log &
#              ^     ^
#              |     stdout é‡å®šå‘åˆ°æ–‡ä»¶
#              stderr é‡å®šå‘åˆ° stdout (æ­¤æ—¶ stdout è¿˜æŒ‡å‘ç»ˆç«¯ï¼)
# ç»“æœï¼šstderr è¾“å‡ºåˆ°ç»ˆç«¯ï¼Œstdout è¾“å‡ºåˆ°æ–‡ä»¶

# âœ… æ­£ç¡®é¡ºåº
nohup command > file.log 2>&1 &
#              ^         ^
#              |         stderr é‡å®šå‘åˆ° stdout (æ­¤æ—¶ stdout å·²æŒ‡å‘æ–‡ä»¶)
#              stdout é‡å®šå‘åˆ°æ–‡ä»¶
# ç»“æœï¼šæ‰€æœ‰è¾“å‡ºéƒ½åˆ°æ–‡ä»¶
```

---

## ğŸ”„ å®Œæ•´æµç¨‹å›¾

```
ç”¨æˆ·æ‰§è¡Œï¼š
./run_yolo_batch.sh lr_compare --name task1 ... -- --name task2 ...

â†“

è„šæœ¬è§£æå‚æ•°ï¼Œæ„å»ºå‘½ä»¤ï¼š
TRAIN_COMMANDS="python train.py task1 && python train.py task2"

â†“

åˆ›å»ºä¸´æ—¶è„šæœ¬ï¼š/tmp/yolo_batch_lr_compare_12345.sh
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ #!/bin/bash                                â”‚
â”‚ echo "å¼€å§‹è®­ç»ƒ..."                         â”‚
â”‚ python train.py task1 && python train.py task2 â”‚
â”‚ echo "è®­ç»ƒå®Œæˆ"                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“

æ‰§è¡Œ nohup å‘½ä»¤ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ nohup bash -c "/tmp/yolo_batch_*.sh" > log 2>&1 &  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚       â”‚        â”‚                      â”‚     â”‚   â”‚
  â”‚       â”‚        â”‚                      â”‚     â”‚   â””â”€ åå°è¿è¡Œ
  â”‚       â”‚        â”‚                      â”‚     â””â”€â”€â”€â”€ stderr â†’ stdout
  â”‚       â”‚        â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ stdout â†’ log
  â”‚       â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ‰§è¡Œä¸´æ—¶è„šæœ¬
  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ–° bash è¿›ç¨‹
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ é˜²æ­¢ç»ˆç«¯å…³é—­å½±å“

â†“

åå°è¿›ç¨‹å¼€å§‹æ‰§è¡Œï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PID: 12345                              â”‚
â”‚  çˆ¶è¿›ç¨‹: init (1)  â† ä¸å†æ˜¯ç»ˆç«¯          â”‚
â”‚  è¾“å‡ºç›®æ ‡: lr_compare.log                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“

è®­ç»ƒä»»åŠ¡ 1 å¼€å§‹ï¼š
python train.py task1
  â”‚
  â”œâ”€ print("YAMLæ–‡ä»¶...") â”€â”€â†’ stdout â”€â”€â†’ lr_compare.log
  â”œâ”€ model.train()
  â”‚    â”œâ”€ è¿›åº¦æ¡è¾“å‡º â”€â”€â”€â”€â”€â”€â†’ stderr â”€â”€â†’ stdout â”€â”€â†’ lr_compare.log
  â”‚    â””â”€ è®­ç»ƒæ—¥å¿— â”€â”€â”€â”€â”€â”€â”€â”€â†’ stdout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ lr_compare.log
  â””â”€ print("Training complete") â”€â”€â†’ stdout â”€â”€â†’ lr_compare.log

â†“

è®­ç»ƒä»»åŠ¡ 2 å¼€å§‹ï¼š
python train.py task2
  â”‚
  â””â”€ æ‰€æœ‰è¾“å‡ºåŒæ ·æµå…¥ lr_compare.log

â†“

æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  lr_compare.log åŒ…å«ï¼š                   â”‚
â”‚  - æ‰¹é‡è®­ç»ƒå¼€å§‹æ ‡è®°                       â”‚
â”‚  - ä»»åŠ¡1çš„æ‰€æœ‰è¾“å‡º                       â”‚
â”‚  - ä»»åŠ¡2çš„æ‰€æœ‰è¾“å‡º                       â”‚
â”‚  - æ‰¹é‡è®­ç»ƒç»“æŸæ ‡è®°                       â”‚
â”‚  - æ€»è€—æ—¶ç»Ÿè®¡                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“

ä¸´æ—¶è„šæœ¬è‡ªåŠ¨åˆ é™¤ï¼š
rm -f /tmp/yolo_batch_lr_compare_12345.sh

â†“

è¿›ç¨‹é€€å‡ºï¼ˆé€€å‡ºç  0 è¡¨ç¤ºæˆåŠŸï¼‰
```

---

## ğŸ§ª å®éªŒï¼šç†è§£é‡å®šå‘

### å®éªŒ 1ï¼šåŸºç¡€é‡å®šå‘

```bash
# åªæœ‰ stdout è¿›å…¥æ–‡ä»¶
echo "normal output" > test.log
echo "error output" >&2

# æŸ¥çœ‹ç»“æœ
cat test.log
# è¾“å‡ºï¼šnormal output
# ç»ˆç«¯æ˜¾ç¤ºï¼šerror output
```

### å®éªŒ 2ï¼šstderr é‡å®šå‘

```bash
# éƒ½è¿›å…¥æ–‡ä»¶
{
  echo "normal output"
  echo "error output" >&2
} > test.log 2>&1

# æŸ¥çœ‹ç»“æœ
cat test.log
# è¾“å‡ºï¼š
# normal output
# error output
```

### å®éªŒ 3ï¼šæ¨¡æ‹Ÿè®­ç»ƒè„šæœ¬

```bash
# åˆ›å»ºæ¨¡æ‹Ÿè®­ç»ƒè„šæœ¬
cat > mock_train.py << 'EOF'
import sys
import time

print("è®­ç»ƒå¼€å§‹", flush=True)  # stdout
print("é”™è¯¯è­¦å‘Š", file=sys.stderr, flush=True)  # stderr

for i in range(3):
    print(f"Epoch {i+1}/3", flush=True)
    time.sleep(1)

print("è®­ç»ƒå®Œæˆ", flush=True)
EOF

# æµ‹è¯•1ï¼šä¸é‡å®šå‘ï¼ˆéƒ½æ˜¾ç¤ºåœ¨ç»ˆç«¯ï¼‰
python mock_train.py

# æµ‹è¯•2ï¼šåªé‡å®šå‘ stdoutï¼ˆé”™è¯¯ä»åœ¨ç»ˆç«¯ï¼‰
python mock_train.py > test.log
cat test.log  # åªæœ‰æ­£å¸¸è¾“å‡º

# æµ‹è¯•3ï¼šé‡å®šå‘æ‰€æœ‰è¾“å‡º
python mock_train.py > test.log 2>&1
cat test.log  # åŒ…å«æ‰€æœ‰è¾“å‡º
```

---

## ğŸ“ æ€»ç»“ï¼šä¸‰ä¸ªå…³é”®ç‚¹

### 1. nohup è§£å†³"ç»ˆç«¯å…³é—­"é—®é¢˜

```bash
# æ²¡æœ‰ nohup
bash -c "long_running_task" > log.txt 2>&1 &
# å…³é—­ç»ˆç«¯ â†’ è¿›ç¨‹ç»ˆæ­¢ âŒ

# æœ‰ nohup
nohup bash -c "long_running_task" > log.txt 2>&1 &
# å…³é—­ç»ˆç«¯ â†’ è¿›ç¨‹ç»§ç»­ âœ…
```

### 2. bash -c è§£å†³"ä¸²è¡Œæ‰§è¡Œ"é—®é¢˜

```bash
# ä¸ç”¨ bash -cï¼ˆè„šæœ¬ç«‹å³è¿”å›ï¼‰
nohup python train.py task1 > log 2>&1 &
nohup python train.py task2 > log 2>&1 &
# ç»“æœï¼šä¸¤ä¸ªä»»åŠ¡åŒæ—¶å¼€å§‹ï¼ˆå¹¶è¡Œï¼‰âŒ

# ç”¨ bash -cï¼ˆç­‰å¾…å‰ä¸€ä¸ªå®Œæˆï¼‰
nohup bash -c "python train.py task1 && python train.py task2" > log 2>&1 &
# ç»“æœï¼štask1 å®Œæˆåæ‰å¼€å§‹ task2ï¼ˆä¸²è¡Œï¼‰âœ…
```

### 3. é‡å®šå‘è§£å†³"æ—¥å¿—è®°å½•"é—®é¢˜

```bash
# ä¸é‡å®šå‘ï¼ˆè¾“å‡ºåˆ°ç»ˆç«¯ï¼Œå…³é—­ç»ˆç«¯ä¸¢å¤±ï¼‰
nohup bash -c "command" &
# ç»“æœï¼šæ— æ³•æŸ¥çœ‹è¾“å‡º âŒ

# æ­£ç¡®é‡å®šå‘
nohup bash -c "command" > log.txt 2>&1 &
# ç»“æœï¼šæ‰€æœ‰è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ âœ…
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæ—¥å¿—æ–‡ä»¶æ˜¯ç©ºçš„ï¼Ÿ

**å¯èƒ½åŸå› ï¼š**
```bash
# å¿˜è®°é‡å®šå‘ stderr
nohup command > log.txt &  # stderr ä»è¾“å‡ºåˆ°ç»ˆç«¯

# è§£å†³æ–¹æ¡ˆ
nohup command > log.txt 2>&1 &
```

### Q2: ä¸ºä»€ä¹ˆæ—¥å¿—æ²¡æœ‰å®æ—¶æ›´æ–°ï¼Ÿ

**åŸå› ï¼š** è¾“å‡ºç¼“å†²

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# Python: å¼ºåˆ¶åˆ·æ–°è¾“å‡º
print("message", flush=True)

# æˆ–åœ¨å¯åŠ¨æ—¶ç¦ç”¨ç¼“å†²
python -u train.py
```

### Q3: å¦‚ä½•åˆ†ç¦»ä¸åŒä»»åŠ¡çš„æ—¥å¿—ï¼Ÿ

**æ–¹æ¡ˆ1ï¼š** ä½¿ç”¨ `tee` å‘½ä»¤
```bash
python train.py task1 2>&1 | tee task1.log
```

**æ–¹æ¡ˆ2ï¼š** åœ¨è„šæœ¬ä¸­å•ç‹¬é‡å®šå‘
```bash
python train.py task1 > task1.log 2>&1
python train.py task2 > task2.log 2>&1
```

### Q4: å¦‚ä½•åŒæ—¶è¾“å‡ºåˆ°ç»ˆç«¯å’Œæ–‡ä»¶ï¼Ÿ

```bash
# ä½¿ç”¨ teeï¼ˆå®æ—¶çœ‹åˆ°è¾“å‡ºï¼ŒåŒæ—¶ä¿å­˜ï¼‰
python train.py 2>&1 | tee log.txt

# åœ¨åå°è¿è¡Œæ—¶æ— æ³•ç›´æ¥çœ‹åˆ°ï¼Œåªèƒ½æŸ¥çœ‹æ—¥å¿—
tail -f log.txt
```

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **æ€»æ˜¯ä½¿ç”¨ `2>&1`** æ•è·æ‰€æœ‰è¾“å‡º
2. **ä½¿ç”¨ `nohup`** è®©è®­ç»ƒå¯ä»¥åœ¨åå°è¿è¡Œ
3. **ä½¿ç”¨ `bash -c`** ä¸²è¡Œæ‰§è¡Œå¤šä¸ªä»»åŠ¡
4. **æ·»åŠ æ˜æ˜¾çš„æ—¥å¿—æ ‡è®°** ä¾¿äºæŸ¥æ‰¾ï¼ˆå¦‚å¢å¼ºç‰ˆè„šæœ¬ï¼‰
5. **å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°** é¿å…ç£ç›˜æ»¡

```bash
# å®Œç¾çš„æ‰¹é‡è®­ç»ƒå‘½ä»¤
nohup bash -c "task1 && task2 && task3" > experiment.log 2>&1 &

# å®æ—¶ç›‘æ§
tail -f experiment.log

# æ£€æŸ¥æ–‡ä»¶å¤§å°
du -h experiment.log
```

